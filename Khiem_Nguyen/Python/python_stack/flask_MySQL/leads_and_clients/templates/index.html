<!DOCTYPE html>
<html lang="en" dir="ltr">
    <head>
        <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
        <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='style.css') }}">
        <meta charset="utf-8">
        <title>Friends DB</title>
    <script>
        window.onload = function () {

        var options = {
            title: {
                text: "Desktop OS Market Share in 2017"
            },
            subtitles: [{
                text: "As of November, 2017"
            }],
            animationEnabled: true,
            data: [{
                type: "pie",
                startAngle: 40,
                toolTipContent: "<b>{label}</b>: {y}",
                showInLegend: "true",
                legendText: "{label}",
                indexLabelFontSize: 16,
                indexLabel: "{label} - {y}",
                dataPoints: [
                    {% for i in data %}
                    { y: {{ i["number_of_leads"] }}, label: "{{ i["customer_name"] }}" },
                    {% endfor %}

                ]
            }]
        };
        $("#chartContainer").CanvasJSChart(options);

        }
    </script>
    </head>
    <style>
        h1 {
            text-align: center;
        }
        p {
            text-align: center;
        }
        div {
            text-align: center;
        }
        #addNewFriend {
            text-align: center;
            align-content: center;
        }
        label {
            text-align: center;

        }
    </style>
    <body>
        <div>
            <h6>List of all customers and # of leads</h6>
            <table class="table">
                <tr>
                    <th>Customer Name</th>
                    <th>Number of Leads</th>
                </tr>
                {% for i in data %}
                <tr scope="row">
                    <td>{{ i["customer_name"] }}</td>
                    <td>{{ i["number_of_leads"] }}</td>
                </tr>
                {% endfor %}
            </table>
        </div>
        <h1>Customers and number of new leads</h1>

        <div id="chartContainer" style="height: 300px; width: 100%;"></div>
        <script src="https://canvasjs.com/assets/script/jquery-1.11.1.min.js"></script>
        <script src="https://canvasjs.com/assets/script/jquery.canvasjs.min.js"></script>

    </body>
</html>
